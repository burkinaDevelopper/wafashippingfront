import{A as k,u as w,B as S,I as F,o as t,c as n,a as s,n as T,F as v,p as x,t as a,b as c,h as N,q as V,x as m,j as f,k as g,e as y,g as I,d as A,y as H,z as R}from"./index-CV8vgmQs.js";import{u as C}from"./client-DxfqQ6MB.js";import{C as D}from"./CardHoldClient-BGaqvWZi.js";import{_ as j}from"./NavBarRapport-C55e56VV.js";import{u as z}from"./shipStore-C76Dcvx2.js";const E={id:"layout-menu",class:"layout-menu menu-vertical menu bg-menu-theme"},U=N('<div class="app-brand demo"><a href="index.html" class="app-brand-link"><span class="app-brand-logo demo"></span><span class="app-brand-text demo menu-text fw-bolder ms-2">Wafa shipping</span></a><a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none"><i class="bx bx-chevron-left bx-sm align-middle"></i></a></div><div class="menu-inner-shadow"></div>',2),q={class:"menu-inner py-1"},L=s("a",{href:"/dashboard-client",class:"menu-link"},[s("div",{"data-i18n":"Analytics"},"Accueil")],-1),M=[L],O=["href","onClick"],P={"data-i18n":"Analytics"},W={__name:"SideBarClientRapport",setup(_){const e=k(),h=i=>e.fullPath==i;w();const u=C();S(()=>{u.shipByUser()});const r=i=>{e.push({name:"holds.ship",params:{id:i.id}}).then(()=>{window.location.reload()})};return F(),(i,b)=>(t(),n("aside",E,[U,s("ul",q,[s("li",{class:T(["menu-item",{active:h("/dashboard-client")}])},M,2),(t(!0),n(v,null,x(c(u).ships,d=>(t(),n("li",{key:d.id,class:"menu-item"},[s("a",{href:`/holds/ship/${d.id}`,onClick:p=>r(d),class:"menu-link"},[s("div",P,a(d.name),1)],8,O)]))),128))])]))}},l=_=>(H("data-v-6ef7a5a4"),_=_(),R(),_),G={class:"layout-wrapper layout-content-navbar"},J={class:"layout-container"},K={class:"layout-page"},Q={class:"content-wrapper"},X={class:"container-xxl flex-grow-1 container-p-y"},Y={class:"row"},Z={class:"col-md-12 mb-4"},ss={class:"card"},es={class:"card-body"},ts={class:"divider"},os={class:"divider-text fs-3"},as={class:"card"},ns={key:0,class:"container-box"},ds={class:"text-center my-3"},is={class:"text-left text-dark fs-6"},cs={class:"card card-heigth"},ls={class:"card-header"},rs={class:"table-responsive text-nowrap"},_s={key:0,class:"mt-3 d-flex flex-row"},hs={class:"vertical-align"},us=l(()=>s("div",{class:"p-2 border"},"Holds",-1)),ps=l(()=>s("div",{class:"p-2 border"},"Total cargo",-1)),vs=l(()=>s("div",{class:"p-2 border"},"Total discharged",-1)),ms=l(()=>s("div",{class:"p-2 border"},"Remaining on board",-1)),gs={class:"p-2 border"},xs={class:"vertical-align"},bs=l(()=>s("div",{class:"p-2 border"},"Total",-1)),fs={class:"p-2 border"},ys={class:"p-2 border"},ks={class:"p-2 border"},ws={class:"alert alert-danger text-end",role:"alert"},Ss=l(()=>s("strong",null,"ETC:",-1)),Cs=l(()=>s("div",{class:"content-backdrop fade"},null,-1)),$s=l(()=>s("div",{class:"layout-overlay layout-menu-toggle"},null,-1)),Bs={__name:"HoldShipView",setup(_){w();const e=C(),h=k(),u=z();u.rapportDateByShip(h.params.id),S(()=>{e.holds(h.params.id),e.ship(h.params.id)});const r=m(()=>e.holds.reduce((d,p)=>d+p.Total_cargo,0).toFixed(3)),i=m(()=>e.holds.reduce((d,p)=>d+p.Total_discharged,0).toFixed(3)),b=m(()=>(r.value-i.value).toFixed(3));return m(()=>r.value>0?(i.value*100/r.value).toFixed(2):0),(d,p)=>{const $=f("NavBar"),B=f("Footer");return t(),n(v,null,[g(j),s("div",G,[s("div",J,[g(W),s("div",K,[g($),s("div",Q,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[s("div",es,[s("div",ts,[s("div",os,a(c(e).ship.name),1)])])])])]),s("div",as,[s("main",null,[c(e).holds.length?(t(),n("div",ns,[(t(!0),n(v,null,x(c(e).holds,o=>(t(),n("div",{key:o.id,class:"box"},[s("div",null,[s("h6",ds,a(o.name)+" - "+a(o.type),1),s("div",is,"ROB: "+a((o.Total_cargo-o.Total_discharged).toFixed(3)),1)])]))),128))])):y("",!0)])]),s("div",cs,[s("h5",ls,a(d.$t("titleHold")),1),s("div",rs,[c(e).holds.length?(t(),n("div",_s,[s("div",hs,[us,ps,vs,ms,(t(!0),n(v,null,x(c(u).rapportDates,o=>(t(),n("div",gs,a(o.rapport),1))),256))]),(t(!0),n(v,null,x(c(e).holds,o=>(t(),A(D,{key:o.id,hold:o,ship_id:o.id},null,8,["hold","ship_id"]))),128)),s("div",xs,[bs,s("div",fs,a(r.value),1),s("div",ys,a(i.value),1),s("div",ks,a(b.value),1)])])):y("",!0)])]),s("div",ws,[Ss,I(a(c(e).ship.etc),1)])]),g(B),Cs])])]),$s])],64)}}},As=V(Bs,[["__scopeId","data-v-6ef7a5a4"]]);export{As as default};
