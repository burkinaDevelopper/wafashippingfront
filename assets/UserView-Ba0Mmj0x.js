import{u as k,i as $,r as T,o as c,c as _,a as s,t as g,q as V,s as A,k as v,e as w,b,d as C,_ as I,w as j,f as y,v as x,F as N,p as D,y as M,z as F}from"./index-CIabCGaw.js";import{_ as L}from"./loading-D9vOa6jP.js";import{S as B,_ as O,a as z}from"./NavBar-CJKe_RVV.js";import{F as J}from"./Footer-CyuJq_hh.js";const R="/assets/5-B21Hcp7-.png",q="/assets/6-Du0ti8vY.png",G="/assets/7-BlGDfbmN.png",H=s("i",{class:"fab fa-angular fa-lg text-danger me-3"},null,-1),P={class:"badge bg-label-primary me-1"},W=s("td",null,[s("ul",{class:"list-unstyled users-list m-0 avatar-group d-flex align-items-center"},[s("li",{"data-bs-toggle":"tooltip","data-popup":"tooltip-custom","data-bs-placement":"top",class:"avatar avatar-xs pull-up",title:"Lilian Fuller"},[s("img",{src:R,alt:"Avatar",class:"rounded-circle"})]),s("li",{"data-bs-toggle":"tooltip","data-popup":"tooltip-custom","data-bs-placement":"top",class:"avatar avatar-xs pull-up",title:"Sophia Wilkerson"},[s("img",{src:q,alt:"Avatar",class:"rounded-circle"})]),s("li",{"data-bs-toggle":"tooltip","data-popup":"tooltip-custom","data-bs-placement":"top",class:"avatar avatar-xs pull-up",title:"Christina Parker"},[s("img",{src:G,alt:"Avatar",class:"rounded-circle"})])])],-1),Y={class:"d-flex align-items-end justify-content-space-evenly"},K={class:"col-lg-4 col-md-6"},Q={class:"mt-3"},X=["data-name","data-email","data-password","data-role","data-id"],Z=s("i",{class:"bx bx-edit-alt me-1"},null,-1),ss=[Z],ts=["data-userid","data-username"],es=s("i",{class:"bx bx-trash me-1"},null,-1),as=[es],os={__name:"CardUser",props:["user"],setup(d){const t=d,i=k(),f=$(!1),u=$(!1),r=T({name:"",email:"",password:"",role:"",id:""}),m=async l=>{const e=l.currentTarget.dataset.name,a=l.currentTarget.dataset.email,p=l.currentTarget.dataset.passwordview,E=l.currentTarget.dataset.role,S=l.currentTarget.dataset.id,{value:U}=await B.fire({title:"Mofifier Client",html:`
    <label for="" class="form-label">Nom</label>
    <input type="text" id="swal-input1" class="form-control mb-2" value="${e}">
    <label for="" class="form-label">Email</label>
    <input type="email"  id="swal-input2" class="form-control mb-2" value="${a}">
    <label for="" class="form-label">mot de passe</label>
    <input type="password" id="swal-input3" class="form-control mb-2" value="${p}">
    <select value="${E}" class="form-control mb-2" id="swal-input4">
        <option value="user">user</option>
        <option value="admin">admin</option>
    </select>
    <input type="hidden" id="swal-input5" class="swal2-input" value="${S}">
  `,showCancelButton:!0,cancelButtonText:"Annuler",confirmButtonText:"modifier",allowOutsideClick:!1,focusConfirm:!1,preConfirm:()=>[r.name=document.getElementById("swal-input1").value,r.email=document.getElementById("swal-input2").value,r.password=document.getElementById("swal-input3").value,r.role=document.getElementById("swal-input4").value,r.id=document.getElementById("swal-input5").value]});U&&n()},n=async()=>{await i.updateClient(r),i.getErrors.length||(f.value=!0,i.getUsersAll()),i.getErrors.length&&(u.value=!0),setTimeout(()=>{f.value=!1,u.value=!1},2e3)},h=l=>{const e=l.currentTarget.dataset.userid,a=l.currentTarget.dataset.username;B.fire({icon:"error",title:a,text:"Voulez-vous supprimer cet utilisateur ?",showCancelButton:!0,cancelButtonText:"Retour",confirmButtonText:"Oui",allowOutsideClick:!1}).then(async p=>{p.isConfirmed&&(await i.destroy(e),i.getUsersAll())})};return(l,e)=>(c(),_("tr",null,[s("td",null,[H,s("strong",null,g(t.user.name),1)]),s("td",null,g(t.user.email),1),s("td",null,[s("span",P,g(t.user.passwordview),1)]),W,s("td",null,[s("div",Y,[s("span",null,[s("div",K,[s("div",Q,[s("button",{type:"button",class:"btn btn-primary btn-xs","data-bs-toggle":"modal","data-bs-target":"#modalTop","data-name":t.user.name,"data-email":t.user.email,"data-password":t.user.passwordview,"data-role":t.user.role,"data-id":t.user.id,onClick:e[0]||(e[0]=a=>m(a))},ss,8,X)])])]),s("span",null,[s("button",{onClick:e[1]||(e[1]=a=>h(a)),type:"button",class:"btn btn-xs btn-danger","data-userid":t.user.id,"data-username":t.user.name},as,8,ts)])])])]))}},o=d=>(M("data-v-de622f45"),d=d(),F(),d),ls={class:"layout-wrapper layout-content-navbar"},ns={class:"layout-container"},is={class:"layout-page"},rs={class:"content-wrapper"},cs={class:"container-xxl flex-grow-1 container-p-y"},ds={class:"row"},us={class:"col-xxl"},ms={class:"card mb-4"},ps=o(()=>s("div",{class:"card-header d-flex align-items-center justify-content-between"},[s("h5",{class:"mb-0"},"Ajouter un Client")],-1)),_s={class:"card-body"},bs={key:0,class:"bs-toast toast fade show bg-success",role:"alert","aria-live":"assertive","aria-atomic":"true"},fs=o(()=>s("div",{class:"toast-header"},[s("i",{class:"bx bx-bell me-2"}),s("div",{class:"me-auto fw-semibold"},"client créé"),s("small",null,"il ya 2s"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1)),hs=[fs],gs={class:"row mb-3"},vs=o(()=>s("label",{class:"col-sm-2 col-form-label",for:"basic-icon-default-fullname"},"Nom(*)",-1)),ws={class:"col-sm-10"},ys={class:"input-group input-group-merge"},xs=o(()=>s("span",{id:"basic-icon-default-fullname2",class:"input-group-text"},[s("i",{class:"bx bx-user"})],-1)),$s={class:"row mb-3"},Cs=o(()=>s("label",{class:"col-sm-2 col-form-label",for:"basic-icon-default-email"},"Email(*)",-1)),Bs={class:"col-sm-10"},ks={class:"input-group input-group-merge"},Ts=o(()=>s("span",{class:"input-group-text"},[s("i",{class:"bx bx-envelope"})],-1)),Es={class:"row mb-3"},Ss=o(()=>s("label",{class:"col-sm-2 col-form-label",for:"basic-icon-default-password"},"mot de passe(*)",-1)),Us={class:"col-sm-10"},Vs={class:"input-group input-group-merge"},As=o(()=>s("span",{class:"input-group-text"},[s("i",{class:"bx bx-comment"})],-1)),Is=o(()=>s("div",{class:"row justify-content-end"},[s("div",{class:"col-sm-10"},[s("button",{type:"submit",class:"btn btn-primary"}," ajouter ")])],-1)),js={class:"card"},Ns=o(()=>s("h5",{class:"card-header"},"Liste des clients",-1)),Ds={class:"table-responsive text-nowrap"},Ms={class:"table"},Fs=o(()=>s("thead",null,[s("tr",null,[s("th",null,"Nom"),s("th",null,"email"),s("th",null,"mot de passe"),s("th",null,"Client"),s("th",null,"Actions")])],-1)),Ls={class:"table-border-bottom-0 containerimg"},Os={key:0,src:L,alt:""},zs=o(()=>s("div",{class:"content-backdrop fade"},null,-1)),Js=o(()=>s("div",{class:"layout-overlay layout-menu-toggle"},null,-1)),Rs={__name:"UserView",setup(d){const t=k(),{users:i,errors:f}=A(t),{getUsersAll:u,createClient:r}=t;u();const m=$(!1),n=T({name:"",email:"",password:""}),h=async()=>{await r(n),t.getErrors.length||(m.value=!0),u(),setTimeout(()=>{m.value=!1},2e3)};return(l,e)=>(c(),_("div",ls,[s("div",ns,[v(O),s("div",is,[v(z),s("div",rs,[s("div",cs,[s("div",ds,[s("div",us,[s("div",ms,[ps,s("div",_s,[m.value?(c(),_("div",bs,hs)):w("",!0),b(t).getErrors.length?(c(),C(I,{key:1,errors:b(t).getErrors},null,8,["errors"])):w("",!0),s("form",{onSubmit:j(h,["prevent"])},[s("div",gs,[vs,s("div",ws,[s("div",ys,[xs,y(s("input",{type:"text",class:"form-control",id:"basic-icon-default-fullname",placeholder:"John Doe","aria-label":"John Doe","aria-describedby":"basic-icon-default-fullname2","onUpdate:modelValue":e[0]||(e[0]=a=>n.name=a)},null,512),[[x,n.name]])])])]),s("div",$s,[Cs,s("div",Bs,[s("div",ks,[Ts,y(s("input",{type:"text",id:"basic-icon-default-email",class:"form-control",placeholder:"john.doe","aria-label":"john.doe","aria-describedby":"basic-icon-default-email2","onUpdate:modelValue":e[1]||(e[1]=a=>n.email=a)},null,512),[[x,n.email]])])])]),s("div",Es,[Ss,s("div",Us,[s("div",Vs,[As,y(s("input",{type:"password",id:"basic-icon-default-password",class:"form-control",placeholder:"*****","onUpdate:modelValue":e[2]||(e[2]=a=>n.password=a)},null,512),[[x,n.password]])])])]),Is],32)])])])]),s("div",js,[Ns,s("div",Ds,[s("table",Ms,[Fs,s("tbody",Ls,[b(t).getLoading?(c(),_("img",Os)):w("",!0),(c(!0),_(N,null,D(b(i),(a,p)=>(c(),C(os,{key:p,user:a},null,8,["user"]))),128))])])])])]),v(J),zs])])]),Js]))}},Ws=V(Rs,[["__scopeId","data-v-de622f45"]]);export{Ws as default};
