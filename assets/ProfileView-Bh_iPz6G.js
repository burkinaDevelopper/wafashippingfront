import{u as h,i as _,r as v,c as n,a as s,k as r,e as b,w,f as l,v as d,m as y,g,o as m}from"./index-CV8vgmQs.js";import{S as x,_ as U,a as V}from"./NavBar-PCZ1jSOO.js";import{F as k}from"./Footer-BYgE83Od.js";const C={class:"layout-wrapper layout-content-navbar"},B={class:"layout-container"},S={class:"layout-page"},T={class:"content-wrapper"},M={class:"container-xxl flex-grow-1 container-p-y"},N=s("h4",{class:"fw-bold py-3 mb-4"},[s("span",{class:"text-muted fw-light"},"Formulaire/"),g(" Administrateur ")],-1),E={class:"row"},j={class:"col-xxl"},A={class:"card mb-4"},F=s("div",{class:"card-header d-flex align-items-center justify-content-between"},[s("h5",{class:"mb-0"},"Tous les champs sont obligatoires."),s("small",{class:"text-muted float-end"},"information actuel")],-1),D={class:"card-body"},O={key:0,class:"bs-toast toast fade show bg-success",role:"alert","aria-live":"assertive","aria-atomic":"true"},R=s("div",{class:"toast-header"},[s("i",{class:"bx bx-bell me-2"}),s("div",{class:"me-auto fw-semibold"},"client modifier"),s("small",null,"il ya 2s"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),$=[R],z={key:1,class:"bs-toast toast fade show bg-danger",role:"alert","aria-live":"assertive","aria-atomic":"true"},J=s("div",{class:"toast-header"},[s("i",{class:"bx bx-bell me-2"}),s("div",{class:"me-auto fw-semibold"}," Remplire tout les champs "),s("small",null,"il ya 1s"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),P=[J],q={class:"row mb-3"},G=s("label",{class:"col-sm-2 col-form-label",for:"basic-default-name"},"Nom",-1),H={class:"col-sm-10"},I={class:"row mb-3"},K=s("label",{class:"col-sm-2 col-form-label",for:"basic-default-email"},"Email",-1),L={class:"col-sm-10"},Q={class:"input-group input-group-merge"},W={class:"row mb-3"},X=s("label",{class:"col-sm-2 col-form-label",for:"basic-default-password"},"mot de passe",-1),Y={class:"col-sm-10"},Z={class:"row mb-3"},ss=s("label",{class:"col-sm-2 col-form-label"},"role",-1),es={class:"col-sm-10"},ts=s("option",{value:"user"},"user",-1),os=s("option",{value:"admin"},"admin",-1),as=[ts,os],ls=s("div",{class:"row justify-content-end"},[s("div",{class:"col-sm-10"},[s("button",{type:"submit",class:"btn btn-primary"}," modifier ")])],-1),is=s("div",{class:"content-backdrop fade"},null,-1),cs=s("div",{class:"layout-overlay layout-menu-toggle"},null,-1),us={__name:"ProfileView",setup(ns){const t=h(),i=_(!1),c=_(!1),e=v({name:t.getUser.name,email:t.getUser.email,password:"",role:t.getUser.role,id:t.getUser.id}),p=async()=>{await t.updateAdmin(e),t.getErrors.length||(i.value=!0),t.getErrors.length&&(c.value=!0),setTimeout(()=>{i.value=!1,c.value=!1},2e3)},f=()=>{x.fire({icon:"error",title:e.name,text:"Voulez-vous supprimer cet utilisateur ?",showCancelButton:!0,cancelButtonText:"Retour",confirmButtonText:"Oui",allowOutsideClick:!1}).then(async u=>{u.isConfirmed&&await t.destroyAdmin(e.id)})};return(u,o)=>(m(),n("div",C,[s("div",B,[r(U),s("div",S,[r(V),s("div",T,[s("div",M,[N,s("div",E,[s("div",j,[s("div",A,[F,s("div",D,[i.value?(m(),n("div",O,$)):b("",!0),c.value?(m(),n("div",z,P)):b("",!0),s("form",{onSubmit:w(p,["prevent"])},[s("div",q,[G,s("div",H,[l(s("input",{type:"text",class:"form-control",id:"basic-default-name",placeholder:"John Doe","onUpdate:modelValue":o[0]||(o[0]=a=>e.name=a)},null,512),[[d,e.name]])])]),s("div",I,[K,s("div",L,[s("div",Q,[l(s("input",{type:"text",id:"basic-default-email",class:"form-control",placeholder:"john.doe@gmail.com","onUpdate:modelValue":o[1]||(o[1]=a=>e.email=a)},null,512),[[d,e.email]])])])]),s("div",W,[X,s("div",Y,[l(s("input",{type:"password",class:"form-control",id:"basic-default-password",placeholder:"****","onUpdate:modelValue":o[2]||(o[2]=a=>e.password=a)},null,512),[[d,e.password]])])]),s("div",Z,[ss,s("div",es,[l(s("select",{"onUpdate:modelValue":o[3]||(o[3]=a=>e.role=a),class:"form-control"},as,512),[[y,e.role]])])]),ls],32)])])]),s("button",{onClick:f,type:"button",class:"btn btn-danger"}," supprimer compte ")])]),r(k),is])])]),cs]))}};export{us as default};
